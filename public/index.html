<!doctype html>
<html lang="en">

<head>
  <title>plowderye</title>
  <link rel="stylesheet" href="/bower_components/normalize-css/normalize.css"></link>
  <link rel="stylesheet" href="/bower_components/unsemantic/assets/stylesheets/unsemantic-grid-responsive.css"></link>
  <link rel="stylesheet"
  href="/css/custom-bootstrap/bootstrap.min.css"></link>
  <link rel="stylesheet" href="/css/plowderye.css"></link>
</head>

<body>
<div class="content grid-container" ng-app="plowderye">

  <!-- list of conversations -->
  <div class="grid-20 grid-parent">
    <div class="margins panel panel-default">
      <div class="panel-heading">Your Conversations</div>
      <div class="list-group" ng-controller="ConvListCtrl">
        <a href="#" ng-repeat="room in rooms"
          ng-class="room.cssClass"
          ng-bind="room.name">
        </a>
      </div>
    </div>
  </div>

  <!-- current room headline and config controls -->
  <div class="grid-80 grid-parent">
    <div class="margins rd-border light-grey-bg">
      <div ng-controller="HeadlineCtrl"
         class="expand-left-container current-room">
        <span class="expand-left-left">Current Room:</span>
        <span
          ng-bind="currentRoom"
          class="expand-left-left">
        </span>
      </div>
      <div class="expand-left-right">
        <div ng-controller="ConfigCtrl"
          class="config-controls">
          <img ng-click"toggle-notifications"
            class="ctrl-img"
            src="/images/notifications-disabled.png"
            alt="toggle notifications"
            title="currently not showing notifications - click to enable"
          ><img ng-click"toggle-sound"
            class="ctrl-img"
            src="/images/unmute.png"
            alt="toggle sound"
            title="currently not muted - click to mute"
          >
        </div>
      </div>
    </div>

    <!-- area for current conversation -->
    <div class="grid-80 grid-parent">
      <div class="margins">

        <!-- conversation log - displays past chat messages -->
        <div ng-controller="MessageLogCtrl" class="conv-log rd-border">
          <div ng-repeat="message in messages" class="message">
            <div
              ng-bind="message.time"
              class="message-time">
            </div>
            <span
              ng-bind="message.from"
              class="message-from">
            </span>
            <span
              ng-bind="message.text"
              class="message-text">
            </span>
          </div>
        </div>

        <!-- compose new message -->
        <form id="send-form" role="form">
           <div class="expand-left-container form-group">
            <label class="sr-only" for="message">What's up?</label>
            <input id="message" type="text" class="expand-left-left form-control" placeholder="What's up?">
          </div>
          <span class="span-send expand-left-right">
            <input id="send-button" type="submit" value="Send" class="btn btn-primary"/>
          </span>
        </form>
        <div class="help">
          Chat commands:
          <ul>
            <li>Change nickname: <code>/nick [username]</code></li>
            <li>Join/create room: <code>/join [room name]</code></li>
          </ul>
          powered by <em>plowderye</em>.
        </div>
      </div>
    </div>

    <!-- user list -->
    <div class="grid-20 grid-parent">
      <div class="margins panel panel-default">
        <div class="panel-heading">Users</div>
        <div class="panel-body" ng-controller="UserListCtrl">
          <div ng-repeat="user in users"
            ng-bind="user">
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- sound div to add and remove audio element -->
  <div id="sound"></div>
</div>

<script src="/socket.io/socket.io.js" type="text/javascript"></script>
<script src="/bower_components/jquery/dist/jquery.min.js" type="text/javascript"></script>
<script src="/bower_components/jquery-cookie/jquery.cookie.js" type="text/javascript"></script>
<script src="/bower_components/angular/angular.min.js" type="text/javascript"></script>
<script src="/bower_components/notify.js/notify.js" type="text/javascript"></script>
<script src="/js/chat.js" type="text/javascript"></script>
<script src="/js/chat_ui.js" type="text/javascript"></script>
</body>
</html>
